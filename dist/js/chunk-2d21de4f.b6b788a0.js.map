{"version":3,"sources":["webpack:///./src/views/Product.vue","webpack:///./src/views/Product.vue?c8fc"],"names":["class","product","title","src","imageUrl","alt","imagesUrl","item","key","category","description","content","price","toThousand","origin_price","type","qty","min","addCart","active","isLoading","data","methods","getProduct","id","this","url","$http","get","then","res","success","$swal","fire","icon","text","message","catch","error","console","dir","product_id","post","showConfirmButton","timer","num","temp","toString","split","replace","join","created","$route","params","render"],"mappings":"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","file":"js/chunk-2d21de4f.b6b788a0.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>產品頁</h1>\n    <h2>{{ product.title }}</h2>\n    <div class=\"row\">\n      <div class=\"col-sm-6\">\n        <img class=\"img-fluid mb-4\" :src=\"product.imageUrl\" alt=\"\" />\n        <img class=\"img-fluid mb-1\" v-for=\"item in product.imagesUrl\" :src=\"item\" :key=\"item\" />\n      </div>\n      <div class=\"col-sm-6\">\n        <span class=\"badge bg-primary rounded-pill\">{{ product.category }}</span>\n        <p>商品描述：{{ product.description }}</p>\n        <p>商品內容：{{ product.content }}</p>\n        <div class=\"h5\" v-if=\"!product.price\">{{ toThousand(product.origin_price) }} 元</div>\n        <del class=\"h6\" v-if=\"product.price\">原價 {{ toThousand(product.origin_price) }} 元</del>\n        <div class=\"h5\" v-if=\"product.price\">現在只要 {{ toThousand(product.price) }} 元</div>\n        <div>\n          <div class=\"input-group\">\n            <input type=\"number\" class=\"form-control\" v-model.number=\"qty\" min=\"1\" />\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"addCart\">\n              加入購物車\n            </button>\n          </div>\n        </div>\n      </div>\n      <!-- col-sm-6 end -->\n    </div>\n  </div>\n\n  <!-- vue-loading -->\n  <VueLoading v-bind:active=\"isLoading\"></VueLoading>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      product: {\n        origin_price: 0,\n        price: 0,\n      },\n      qty: 1,\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProduct(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_DOMAIN}/api/${process.env.VUE_APP_PATH}/product/${id}`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.product = res.data.product;\n          } else {\n            this.$swal.fire({\n              icon: 'error',\n              title: 'Oops...',\n              text: res.data.message,\n            });\n          }\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          console.dir(error);\n        });\n    },\n    addCart() {\n      this.isLoading = true;\n      const data = {\n        product_id: this.product.id,\n        qty: this.qty,\n      };\n      const url = `${process.env.VUE_APP_DOMAIN}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .post(url, { data })\n        .then((res) => {\n          if (res.data.success) {\n            this.$swal.fire({\n              // position: 'top',\n              icon: 'success',\n              title: res.data.message,\n              showConfirmButton: false,\n              timer: 1500,\n            });\n            this.qty = 1;\n            this.isLoading = false;\n            // this.$router.push('/products');\n          } else {\n            this.$swal.fire({\n              icon: 'error',\n              title: 'Oops...',\n              text: res.data.message,\n            });\n          }\n        })\n        .catch((error) => {\n          console.dir(error);\n        });\n    },\n    toThousand(num) {\n      // 千分位\n      const temp = num.toString().split('.');\n      temp[0] = temp[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n      return temp.join('.');\n    },\n  },\n  created() {\n    const { id } = this.$route.params;\n    this.getProduct(id);\n  },\n};\n</script>\n","import { render } from \"./Product.vue?vue&type=template&id=3b55ce00\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}