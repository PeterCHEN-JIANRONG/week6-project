(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-373504d6"],{"0cb2":function(e,t,r){var a=r("7b0b"),n=Math.floor,c="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,i=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,l,s,u){var d=r+e.length,f=l.length,p=i;return void 0!==s&&(s=a(s),p=o),c.call(u,p,(function(a,c){var o;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":o=s[c.slice(1,-1)];break;default:var i=+c;if(0===i)return a;if(i>f){var u=n(i/10);return 0===u?a:u<=f?void 0===l[u-1]?c.charAt(1):l[u-1]+c.charAt(1):a}o=l[i-1]}return void 0===o?"":o}))}},1276:function(e,t,r){"use strict";var a=r("d784"),n=r("44e7"),c=r("825a"),o=r("1d80"),i=r("4840"),l=r("8aa5"),s=r("50c4"),u=r("14c3"),d=r("9263"),f=r("9f7f"),p=f.UNSUPPORTED_Y,b=[].push,h=Math.min,v=4294967295;a("split",2,(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=String(o(this)),c=void 0===r?v:r>>>0;if(0===c)return[];if(void 0===e)return[a];if(!n(e))return t.call(a,e,c);var i,l,s,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,h=new RegExp(e.source,f+"g");while(i=d.call(h,a)){if(l=h.lastIndex,l>p&&(u.push(a.slice(p,i.index)),i.length>1&&i.index<a.length&&b.apply(u,i.slice(1)),s=i[0].length,p=l,u.length>=c))break;h.lastIndex===i.index&&h.lastIndex++}return p===a.length?!s&&h.test("")||u.push(""):u.push(a.slice(p)),u.length>c?u.slice(0,c):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var n=o(this),c=void 0==t?void 0:t[e];return void 0!==c?c.call(t,n,r):a.call(String(n),t,r)},function(e,n){var o=r(a,e,this,n,a!==t);if(o.done)return o.value;var d=c(e),f=String(this),b=i(d,RegExp),g=d.unicode,m=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"g":"y"),x=new b(p?"^(?:"+d.source+")":d,m),O=void 0===n?v:n>>>0;if(0===O)return[];if(0===f.length)return null===u(x,f)?[f]:[];var j=0,V=0,N=[];while(V<f.length){x.lastIndex=p?0:V;var y,E=u(x,p?f.slice(V):f);if(null===E||(y=h(s(x.lastIndex+(p?V:0)),f.length))===j)V=l(f,V,g);else{if(N.push(f.slice(j,V)),N.length===O)return N;for(var C=1;C<=E.length-1;C++)if(N.push(E[C]),N.length===O)return N;V=j=y}}return N.push(f.slice(j)),N}]}),p)},"14c3":function(e,t,r){var a=r("c6b6"),n=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var c=r.call(e,t);if("object"!==typeof c)throw TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"1dde":function(e,t,r){var a=r("d039"),n=r("b622"),c=r("2d00"),o=n("species");e.exports=function(e){return c>=51||!a((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"25f0":function(e,t,r){"use strict";var a=r("6eeb"),n=r("825a"),c=r("d039"),o=r("ad6d"),i="toString",l=RegExp.prototype,s=l[i],u=c((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),d=s.name!=i;(u||d)&&a(RegExp.prototype,i,(function(){var e=n(this),t=String(e.source),r=e.flags,a=String(void 0===r&&e instanceof RegExp&&!("flags"in l)?o.call(e):r);return"/"+t+"/"+a}),{unsafe:!0})},"395d":function(e,t,r){"use strict";r.r(t);r("b0c0");var a=r("7a23"),n={class:"container"},c=Object(a["createVNode"])("h1",null,"購物車",-1),o={class:"text-end"},i={class:"table align-middle"},l=Object(a["createVNode"])("thead",null,[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th"),Object(a["createVNode"])("th",null,"品名"),Object(a["createVNode"])("th",{style:{width:"150px"}},"數量/單位"),Object(a["createVNode"])("th",null,"單價")])],-1),s={key:0,class:"fas fa-spinner fa-pulse"},u=Object(a["createTextVNode"])(" x "),d={key:0,class:"text-success"},f={class:"input-group input-group-sm"},p={class:"input-group mb-3"},b={class:"input-group-text",id:"basic-addon2"},h={class:"text-end"},v={key:0,class:"text-success"},g=Object(a["createVNode"])("td",{colspan:"3",class:"text-end"},"總計",-1),m={class:"text-end"},x={key:0},O=Object(a["createVNode"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),j={class:"text-end text-success"},V={class:"my-5 row justify-content-center"},N={class:"mb-3"},y=Object(a["createVNode"])("label",{for:"email",class:"form-label"},"Email",-1),E={class:"mb-3"},C=Object(a["createVNode"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),S={class:"mb-3"},k=Object(a["createVNode"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),I={class:"mb-3"},w=Object(a["createVNode"])("label",{for:"address",class:"form-label"},"收件人地址",-1),A={class:"mb-3"},R=Object(a["createVNode"])("label",{for:"message",class:"form-label"},"留言",-1),T={class:"text-end"};function _(e,t,r,_,B,$){var U=Object(a["resolveComponent"])("Field"),L=Object(a["resolveComponent"])("ErrorMessage"),P=Object(a["resolveComponent"])("Form"),D=Object(a["resolveComponent"])("VueLoading");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])("div",n,[c,Object(a["createVNode"])("div",o,[Object(a["createVNode"])("button",{class:"btn btn-outline-danger",type:"button",disabled:!B.hasCartsItems,onClick:t[1]||(t[1]=function(){return $.deleteAllCarts&&$.deleteAllCarts.apply($,arguments)})}," 清空購物車 ",8,["disabled"])]),Object(a["createVNode"])("table",i,[l,Object(a["createVNode"])("tbody",null,[B.cart.carts?(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],{key:0},Object(a["renderList"])(B.cart.carts,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:e.id},[Object(a["createVNode"])("td",null,[Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return $.removeCartItem(e.id)},disabled:B.loadingStatus.loadingItem===e.id},[B.loadingStatus.loadingItem===e.id?(Object(a["openBlock"])(),Object(a["createBlock"])("i",s)):Object(a["createCommentVNode"])("",!0),u],8,["onClick","disabled"])]),Object(a["createVNode"])("td",null,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.product.title)+" ",1),e.coupon?(Object(a["openBlock"])(),Object(a["createBlock"])("div",d," 已套用優惠券 ")):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("div",f,[Object(a["createVNode"])("div",p,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{class:"form-control",type:"number",min:"1","onUpdate:modelValue":function(t){return e.qty=t},onBlur:function(t){return $.updateCart(e)},disabled:B.loadingStatus.loadingItem===e.id},null,40,["onUpdate:modelValue","onBlur","disabled"]),[[a["vModelText"],e.qty,void 0,{number:!0}]]),Object(a["createVNode"])("span",b,Object(a["toDisplayString"])(e.product.unit),1)])])]),Object(a["createVNode"])("td",h,[B.cart.final_total!==B.cart.total?(Object(a["openBlock"])(),Object(a["createBlock"])("small",v,"折扣價：")):Object(a["createCommentVNode"])("",!0),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])($.toThousand(e.final_total)),1)])])})),128)):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("tfoot",null,[Object(a["createVNode"])("tr",null,[g,Object(a["createVNode"])("td",m,Object(a["toDisplayString"])($.toThousand(B.cart.total)),1)]),B.cart.final_total!==B.cart.total?(Object(a["openBlock"])(),Object(a["createBlock"])("tr",x,[O,Object(a["createVNode"])("td",j,Object(a["toDisplayString"])($.toThousand(B.cart.final_total)),1)])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])("div",V,[Object(a["createVNode"])(P,{ref:"form",class:"col-md-6",onSubmit:$.createOrder},{default:Object(a["withCtx"])((function(e){var r=e.errors;return[Object(a["createVNode"])("div",N,[y,Object(a["createVNode"])(U,{id:"email",name:"email",type:"email",placeholder:"請輸入 Email",class:["form-control",{"is-invalid":r["email"]}],rules:"email|required",modelValue:B.form.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return B.form.user.email=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(L,{name:"email",class:"invalid-feedback"})]),Object(a["createVNode"])("div",E,[C,Object(a["createVNode"])(U,{id:"name",name:"姓名",type:"text",placeholder:"請輸入姓名",class:["form-control",{"is-invalid":r["姓名"]}],rules:"required",modelValue:B.form.user.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return B.form.user.name=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(L,{name:"姓名",class:"invalid-feedback"})]),Object(a["createVNode"])("div",S,[k,Object(a["createVNode"])(U,{id:"tel",name:"電話",type:"text",placeholder:"請輸入電話",class:["form-control",{"is-invalid":r["電話"]}],rules:"required|min:8|max:10",modelValue:B.form.user.tel,"onUpdate:modelValue":t[4]||(t[4]=function(e){return B.form.user.tel=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(L,{name:"電話",class:"invalid-feedback"})]),Object(a["createVNode"])("div",I,[w,Object(a["createVNode"])(U,{id:"address",name:"地址",type:"text",placeholder:"請輸入地址",class:["form-control",{"is-invalid":r["地址"]}],rules:"required",modelValue:B.form.user.address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return B.form.user.address=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(L,{name:"地址",class:"invalid-feedback"})]),Object(a["createVNode"])("div",A,[R,Object(a["withDirectives"])(Object(a["createVNode"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[6]||(t[6]=function(e){return B.form.message=e})},null,512),[[a["vModelText"],B.form.message]])]),Object(a["createVNode"])("div",T,[Object(a["createVNode"])("button",{type:"submit",class:"btn btn-danger",disabled:!B.hasCartsItems},"送出訂單",8,["disabled"])])]})),_:1},8,["onSubmit"])])]),Object(a["createVNode"])(D,{active:B.isLoading},null,8,["active"])],64)}r("99af"),r("ac1f"),r("1276"),r("d3b7"),r("25f0"),r("5319"),r("a15b");var B={data:function(){return{cart:{total:0,final_total:0,carts:[]},form:{user:{name:"",email:"",tel:"",address:""},message:""},hasCartsItems:!1,loadingStatus:{loadingItem:""},isLoading:!1}},methods:{getCart:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/cart");this.$http.get(t).then((function(t){t.data.success?e.cart=t.data.data:e.errorAlert(t.data.message),e.isLoading=!1})).catch((function(e){console.dir(e)}))},updateCart:function(e){var t=this;this.isLoading=!0,this.loadingStatus.loadingItem=e.id;var r={product_id:e.product_id,qty:e.qty},a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/cart/").concat(e.id);this.$http.put(a,{data:r}).then((function(e){e.data.success&&(t.getCart(),t.loadingStatus.loadingItem=""),t.isLoading=!1,t.successAlert(e.data.message)})).catch((function(e){console.dir(e)}))},removeCartItem:function(e){var t=this;this.isLoading=!0;var r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/cart/").concat(e);this.$http.delete(r).then((function(e){e.data.success&&t.getCart(),t.isLoading=!1,t.successAlert(e.data.message)})).catch((function(e){console.dir(e)}))},deleteAllCarts:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/carts");this.$http.delete(t).then((function(t){t.data.success&&e.getCart(),e.successAlert(t.data.message),e.isLoading=!1})).catch((function(e){console.dir(e)}))},createOrder:function(){var e=this;this.isLoading=!0;var t=this.form,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/order");this.$http.post(r,{data:t}).then((function(t){t.data.success?(e.getCart(),e.$refs.form.resetForm(),e.successAlert(t.data.message)):e.errorAlert(t.data.message),e.isLoading=!1})).catch((function(e){console.dir(e)}))},toThousand:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},successAlert:function(e){this.$swal.fire({icon:"success",title:e,showConfirmButton:!1,timer:1500})},errorAlert:function(e){this.$swal.fire({icon:"error",title:"Oops...",text:e})}},watch:{cart:function(){this.hasCartsItems=!!this.cart.carts.length}},created:function(){this.getCart()}};B.render=_;t["default"]=B},"44e7":function(e,t,r){var a=r("861d"),n=r("c6b6"),c=r("b622"),o=c("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},5319:function(e,t,r){"use strict";var a=r("d784"),n=r("825a"),c=r("50c4"),o=r("a691"),i=r("1d80"),l=r("8aa5"),s=r("0cb2"),u=r("14c3"),d=Math.max,f=Math.min,p=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,r,a){var b=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=a.REPLACE_KEEPS_$0,v=b?"$":"$0";return[function(r,a){var n=i(this),c=void 0==r?void 0:r[e];return void 0!==c?c.call(r,n,a):t.call(String(n),r,a)},function(e,a){if(!b&&h||"string"===typeof a&&-1===a.indexOf(v)){var i=r(t,e,this,a);if(i.done)return i.value}var g=n(e),m=String(this),x="function"===typeof a;x||(a=String(a));var O=g.global;if(O){var j=g.unicode;g.lastIndex=0}var V=[];while(1){var N=u(g,m);if(null===N)break;if(V.push(N),!O)break;var y=String(N[0]);""===y&&(g.lastIndex=l(m,c(g.lastIndex),j))}for(var E="",C=0,S=0;S<V.length;S++){N=V[S];for(var k=String(N[0]),I=d(f(o(N.index),m.length),0),w=[],A=1;A<N.length;A++)w.push(p(N[A]));var R=N.groups;if(x){var T=[k].concat(w,I,m);void 0!==R&&T.push(R);var _=String(a.apply(void 0,T))}else _=s(k,m,I,w,R,a);I>=C&&(E+=m.slice(C,I)+_,C=I+k.length)}return E+m.slice(C)}]}))},"65f0":function(e,t,r){var a=r("861d"),n=r("e8b5"),c=r("b622"),o=c("species");e.exports=function(e,t){var r;return n(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},8418:function(e,t,r){"use strict";var a=r("c04e"),n=r("9bf2"),c=r("5c6c");e.exports=function(e,t,r){var o=a(t);o in e?n.f(e,o,c(0,r)):e[o]=r}},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},9263:function(e,t,r){"use strict";var a=r("ad6d"),n=r("9f7f"),c=r("5692"),o=RegExp.prototype.exec,i=c("native-string-replace",String.prototype.replace),l=o,s=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=n.UNSUPPORTED_Y||n.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],f=s||d||u;f&&(l=function(e){var t,r,n,c,l=this,f=u&&l.sticky,p=a.call(l),b=l.source,h=0,v=e;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(e).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(b="(?: "+b+")",v=" "+v,h++),r=new RegExp("^(?:"+b+")",p)),d&&(r=new RegExp("^"+b+"$(?!\\s)",p)),s&&(t=l.lastIndex),n=o.call(f?r:l,v),f?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=l.lastIndex,l.lastIndex+=n[0].length):l.lastIndex=0:s&&n&&(l.lastIndex=l.global?n.index+n[0].length:t),d&&n&&n.length>1&&i.call(n[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n}),e.exports=l},"99af":function(e,t,r){"use strict";var a=r("23e7"),n=r("d039"),c=r("e8b5"),o=r("861d"),i=r("7b0b"),l=r("50c4"),s=r("8418"),u=r("65f0"),d=r("1dde"),f=r("b622"),p=r("2d00"),b=f("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",g=p>=51||!n((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),m=d("concat"),x=function(e){if(!o(e))return!1;var t=e[b];return void 0!==t?!!t:c(e)},O=!g||!m;a({target:"Array",proto:!0,forced:O},{concat:function(e){var t,r,a,n,c,o=i(this),d=u(o,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(c=-1===t?o:arguments[t],x(c)){if(n=l(c.length),f+n>h)throw TypeError(v);for(r=0;r<n;r++,f++)r in c&&s(d,f,c[r])}else{if(f>=h)throw TypeError(v);s(d,f++,c)}return d.length=f,d}})},"9f7f":function(e,t,r){"use strict";var a=r("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("44ad"),c=r("fc6a"),o=r("a640"),i=[].join,l=n!=Object,s=o("join",",");a({target:"Array",proto:!0,forced:l||!s},{join:function(e){return i.call(c(this),void 0===e?",":e)}})},a640:function(e,t,r){"use strict";var a=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){throw 1},1)}))}},ac1f:function(e,t,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,c=Function.prototype,o=c.toString,i=/^\s*function ([^ (]*)/,l="name";a&&!(l in c)&&n(c,l,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(e){return""}}})},d784:function(e,t,r){"use strict";r("ac1f");var a=r("6eeb"),n=r("9263"),c=r("d039"),o=r("b622"),i=r("9112"),l=o("species"),s=RegExp.prototype,u=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),f=o("replace"),p=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),b=!c((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var h=o(e),v=!c((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),g=v&&!c((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[l]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return t=!0,null},r[h](""),!t}));if(!v||!g||"replace"===e&&(!u||!d||p)||"split"===e&&!b){var m=/./[h],x=r(h,""[e],(function(e,t,r,a,c){var o=t.exec;return o===n||o===s.exec?v&&!c?{done:!0,value:m.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),O=x[0],j=x[1];a(String.prototype,e,O),a(s,h,2==t?function(e,t){return j.call(e,this,t)}:function(e){return j.call(e,this)})}f&&i(s[h],"sham",!0)}},e8b5:function(e,t,r){var a=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-373504d6.eacd8e1c.js.map